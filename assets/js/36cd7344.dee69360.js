"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9663],{4706:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Migration/Settings-Changes","title":"Settings Changes from V1 to V2","description":"Configuration changes between V1 and V2","source":"@site/docs/Migration/Settings-Changes.md","sourceDirName":"Migration","slug":"/Migration/Settings-Changes","permalink":"/Migration/Settings-Changes","draft":false,"unlisted":false,"editUrl":"https://github.com/Stirling-Tools/Stirling-Tools.github.io/tree/main/docs/Migration/Settings-Changes.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"id":"Settings-Changes","title":"Settings Changes from V1 to V2","description":"Configuration changes between V1 and V2"},"sidebar":"tutorialSidebar","previous":{"title":"Migrating from V1 to V2","permalink":"/Migration/Overview"},"next":{"title":"New Features in V2","permalink":"/Migration/New-Features"}}');var t=i(4848),r=i(8453);const l={sidebar_position:1,id:"Settings-Changes",title:"Settings Changes from V1 to V2",description:"Configuration changes between V1 and V2"},a="Settings Changes from V1 to V2",o={},d=[{value:"New Settings in V2",id:"new-settings-in-v2",level:2},{value:"PDF Signature Validation",id:"pdf-signature-validation",level:3},{value:"Server Certificate Management",id:"server-certificate-management",level:3},{value:"Split Deployment Support",id:"split-deployment-support",level:3},{value:"Enhanced JWT Configuration",id:"enhanced-jwt-configuration",level:3},{value:"Email Invites",id:"email-invites",level:3},{value:"UI Logo Customization",id:"ui-logo-customization",level:3},{value:"Removed Settings in V2",id:"removed-settings-in-v2",level:2},{value:"UI Settings Moved to In-App Configuration",id:"ui-settings-moved-to-in-app-configuration",level:3},{value:"Google Drive Integration",id:"google-drive-integration",level:3},{value:"Database Notifications",id:"database-notifications",level:3},{value:"Calibre Custom Path",id:"calibre-custom-path",level:3},{value:"Migration Checklist",id:"migration-checklist",level:2},{value:"Required Changes",id:"required-changes",level:3},{value:"Optional Additions",id:"optional-additions",level:3},{value:"Environment Variable Changes",id:"environment-variable-changes",level:2},{value:"New Environment Variables in V2",id:"new-environment-variables-in-v2",level:3},{value:"Deprecated Environment Variables",id:"deprecated-environment-variables",level:3},{value:"Configuration Examples",id:"configuration-examples",level:2},{value:"Minimal V2 Configuration (Works Out of Box)",id:"minimal-v2-configuration-works-out-of-box",level:3},{value:"V1 to V2 Configuration Diff",id:"v1-to-v2-configuration-diff",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;Unknown configuration key&quot; warnings",id:"unknown-configuration-key-warnings",level:3},{value:"JWT tokens invalid after upgrade",id:"jwt-tokens-invalid-after-upgrade",level:3},{value:"Custom app name not showing",id:"custom-app-name-not-showing",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"Summary",id:"summary",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"settings-changes-from-v1-to-v2",children:"Settings Changes from V1 to V2"})}),"\n",(0,t.jsxs)(n.p,{children:["This page documents all ",(0,t.jsx)(n.code,{children:"settings.yml"})," changes between V1 and V2."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"new-settings-in-v2",children:"New Settings in V2"}),"\n",(0,t.jsx)(n.h3,{id:"pdf-signature-validation",children:"PDF Signature Validation"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Entire new section added:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"security:\n  validation: # NEW in V2\n    trust:\n      serverAsAnchor: true\n      useSystemTrust: true\n      useMozillaBundle: true\n      useAATL: false # Adobe Approved Trust List\n      useEUTL: false # EU Trusted List\n    allowAIA: false\n    aatl:\n      url: https://trustlist.adobe.com/tl.pdf\n    eutl:\n      lotlUrl: https://ec.europa.eu/tools/lotl/eu-lotl.xml\n      acceptTransitional: false\n    revocation:\n      mode: none # Options: none, ocsp, crl, ocsp+crl\n      hardFail: false\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What it does:"})," Comprehensive PDF signature validation with configurable trust chains."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Migration:"})," No action needed, defaults are safe for most users."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Learn more:"})," ",(0,t.jsx)(n.a,{href:"/Functionality/Security/Certificate-Signing",children:"Certificate Signing"})," | ",(0,t.jsx)(n.a,{href:"/Configuration/System%20and%20Security#signature-validation",children:"Security Configuration"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"server-certificate-management",children:"Server Certificate Management"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"New section added:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"system:\n  serverCertificate: # NEW in V2\n    enabled: true\n    organizationName: Stirling-PDF\n    validity: 365 # days\n    regenerateOnStartup: false\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What it does:"}),' Auto-generates signing certificates for "Sign with Stirling-PDF" feature.']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Migration:"})," Works automatically with defaults."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Learn more:"})," ",(0,t.jsx)(n.a,{href:"/Functionality/Security/Certificate-Signing",children:"Certificate Signing"})," | ",(0,t.jsx)(n.a,{href:"/Configuration/System%20and%20Security#server-certificates",children:"Certificate Configuration"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"split-deployment-support",children:"Split Deployment Support"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"New settings added:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"system:\n  corsAllowedOrigins: [] # NEW in V2\n  frontendUrl: '' # NEW in V2\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"corsAllowedOrigins"}),": Allow frontend from different origin"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"frontendUrl"}),": Base URL for generating invite links"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Migration:"})," Leave empty for unified deployment (default)."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example split deployment:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"system:\n  corsAllowedOrigins: ['https://pdf.example.com']\n  frontendUrl: 'https://pdf.example.com'\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Learn more:"})," ",(0,t.jsx)(n.a,{href:"/Installation/Docker%20Install#split-deployment-advanced-users",children:"Docker Installation - Split Mode"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"enhanced-jwt-configuration",children:"Enhanced JWT Configuration"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Changed settings:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# V1 (OLD)\nsecurity:\n  jwt:\n    enabled: false\n    keyCleanup: false\n    secureCookie: true # REMOVED\n\n# V2 (NEW)\nsecurity:\n  jwt:\n    persistence: true # replaces 'enabled'\n    enableKeyRotation: true # NEW\n    enableKeyCleanup: true # replaces 'keyCleanup'\n    keyRetentionDays: 7\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Migration:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"jwt.enabled"})," with ",(0,t.jsx)(n.code,{children:"jwt.persistence"})]}),"\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"jwt.keyCleanup"})," with ",(0,t.jsx)(n.code,{children:"jwt.enableKeyCleanup"})]}),"\n",(0,t.jsxs)(n.li,{children:["Add ",(0,t.jsx)(n.code,{children:"jwt.enableKeyRotation: true"})]}),"\n",(0,t.jsxs)(n.li,{children:["Remove ",(0,t.jsx)(n.code,{children:"jwt.secureCookie"})," (no longer used)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"email-invites",children:"Email Invites"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"New setting added:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"mail:\n  enableInvites: false # NEW in V2\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What it does:"})," Enable email invitations for user registration."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"mail.enabled: true"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"security.enableLogin: true"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Migration:"})," Set to ",(0,t.jsx)(n.code,{children:"true"})," if you want invite functionality."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"ui-logo-customization",children:"UI Logo Customization"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"New setting added:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"ui:\n  logoStyle: classic # NEW in V2 - Options: 'classic' or 'modern'\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What it does:"})," Choose between classic S icon or modern minimalist logo."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Migration:"})," Leave as ",(0,t.jsx)(n.code,{children:"classic"})," (default) or set to ",(0,t.jsx)(n.code,{children:"modern"})," for new look."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"removed-settings-in-v2",children:"Removed Settings in V2"}),"\n",(0,t.jsx)(n.h3,{id:"ui-settings-moved-to-in-app-configuration",children:"UI Settings Moved to In-App Configuration"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"V1 settings (REMOVED):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"ui:\n  appName: '' # REMOVED\n  homeDescription: '' # REMOVED\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Migration:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable login: ",(0,t.jsx)(n.code,{children:"SECURITY_ENABLELOGIN=true"})]}),"\n",(0,t.jsx)(n.li,{children:"Log in as admin"}),"\n",(0,t.jsx)(n.li,{children:"Go to Settings in UI"}),"\n",(0,t.jsx)(n.li,{children:"Configure app name and description there"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why:"})," In-app settings are more user-friendly and apply immediately."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Learn more:"})," ",(0,t.jsx)(n.a,{href:"/Configuration/UI%20Customisation",children:"UI Customisation"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"google-drive-integration",children:"Google Drive Integration"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"V1 settings (REMOVED):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"premium:\n  proFeatures:\n    googleDrive: # REMOVED in V2\n      enabled: false\n      clientId: ''\n      apiKey: ''\n      appId: ''\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Migration:"})," Remove this section from your ",(0,t.jsx)(n.code,{children:"settings.yml"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why:"})," Feature discontinued in V2."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"database-notifications",children:"Database Notifications"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"V1 settings (REMOVED):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"premium:\n  enterpriseFeatures:\n    databaseNotifications: # REMOVED in V2\n      backups:\n        successful: false\n        failed: false\n      imports:\n        successful: false\n        failed: false\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Migration:"})," Remove this section from your ",(0,t.jsx)(n.code,{children:"settings.yml"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why:"})," Replaced with more comprehensive audit logging."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"calibre-custom-path",children:"Calibre Custom Path"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"V1 setting (REMOVED):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"system:\n  customPaths:\n    operations:\n      calibre: '' # REMOVED in V2\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Migration:"})," Remove this line."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why:"})," Path detection improved, no longer needs custom configuration."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"migration-checklist",children:"Migration Checklist"}),"\n",(0,t.jsxs)(n.p,{children:["Use this checklist when upgrading your ",(0,t.jsx)(n.code,{children:"settings.yml"}),":"]}),"\n",(0,t.jsx)(n.h3,{id:"required-changes",children:"Required Changes"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(n.strong,{children:"JWT Settings:"})]}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Replace ",(0,t.jsx)(n.code,{children:"jwt.enabled"})," with ",(0,t.jsx)(n.code,{children:"jwt.persistence"})]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Replace ",(0,t.jsx)(n.code,{children:"jwt.keyCleanup"})," with ",(0,t.jsx)(n.code,{children:"jwt.enableKeyCleanup"})]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Add ",(0,t.jsx)(n.code,{children:"jwt.enableKeyRotation: true"})]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,t.jsx)(n.code,{children:"jwt.secureCookie"})," line"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(n.strong,{children:"Remove Deprecated Sections:"})]}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,t.jsx)(n.code,{children:"premium.proFeatures.googleDrive"})," section"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,t.jsx)(n.code,{children:"premium.enterpriseFeatures.databaseNotifications"})," section"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,t.jsx)(n.code,{children:"system.customPaths.operations.calibre"})," line"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(n.strong,{children:"UI Settings:"})]}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,t.jsx)(n.code,{children:"ui.appName"})," (use in-app settings)"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,t.jsx)(n.code,{children:"ui.homeDescription"})," (use in-app settings)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"optional-additions",children:"Optional Additions"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsxs)(n.strong,{children:["Add ",(0,t.jsx)(n.code,{children:"ui.logoStyle: classic"})]})," if you want to explicitly set logo"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsxs)(n.strong,{children:["Configure ",(0,t.jsx)(n.code,{children:"security.validation"})]})," if you need custom signature validation"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsxs)(n.strong,{children:["Set ",(0,t.jsx)(n.code,{children:"system.serverCertificate"})]})," options if needed"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsxs)(n.strong,{children:["Add ",(0,t.jsx)(n.code,{children:"system.corsAllowedOrigins"})]})," if using split deployment"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsxs)(n.strong,{children:["Set ",(0,t.jsx)(n.code,{children:"system.frontendUrl"})]})," if using split deployment"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsxs)(n.strong,{children:["Enable ",(0,t.jsx)(n.code,{children:"mail.enableInvites"})]})," if you want email invitations"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"environment-variable-changes",children:"Environment Variable Changes"}),"\n",(0,t.jsx)(n.h3,{id:"new-environment-variables-in-v2",children:"New Environment Variables in V2"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Signature validation\nSECURITY_VALIDATION_TRUST_SERVERASANCHOR=true\nSECURITY_VALIDATION_TRUST_USESYSTEMTRUST=true\nSECURITY_VALIDATION_TRUST_USEMOZILLABUNDLE=true\nSECURITY_VALIDATION_TRUST_USEAATL=false\nSECURITY_VALIDATION_TRUST_USEEUTL=false\nSECURITY_VALIDATION_REVOCATION_MODE=none\n\n# Server certificates\nSYSTEM_SERVERCERTIFICATE_ENABLED=true\nSYSTEM_SERVERCERTIFICATE_ORGANIZATIONNAME="My Company"\nSYSTEM_SERVERCERTIFICATE_VALIDITY=365\n\n# Split deployment\nSYSTEM_CORSALLOWEDORIGINS=https://pdf.example.com\nSYSTEM_FRONTENDURL=https://pdf.example.com\n\n# JWT\nSECURITY_JWT_PERSISTENCE=true\nSECURITY_JWT_ENABLEKEYROTATION=true\nSECURITY_JWT_ENABLEKEYCLEANUP=true\n\n# Email invites\nMAIL_ENABLEINVITES=true\n\n# Logo\nUI_LOGOSTYLE=modern\n'})}),"\n",(0,t.jsx)(n.h3,{id:"deprecated-environment-variables",children:"Deprecated Environment Variables"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# These no longer work in V2\nSECURITY_JWT_ENABLED  # Use SECURITY_JWT_PERSISTENCE\nSECURITY_JWT_KEYCLEANUP  # Use SECURITY_JWT_ENABLEKEYCLEANUP\nSECURITY_JWT_SECURECOOKIE  # Removed\nUI_APPNAME  # Use in-app settings\nUI_HOMEDESCRIPTION  # Use in-app settings\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,t.jsx)(n.h3,{id:"minimal-v2-configuration-works-out-of-box",children:"Minimal V2 Configuration (Works Out of Box)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"security:\n  enableLogin: false\n\nsystem:\n  defaultLocale: en-US\n\nui:\n  appNameNavbar: ''\n"})}),"\n",(0,t.jsx)(n.p,{children:"All new V2 features use sensible defaults."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"v1-to-v2-configuration-diff",children:"V1 to V2 Configuration Diff"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"V1 Configuration:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"security:\n  jwt:\n    enabled: false\n    keyCleanup: false\n    secureCookie: true\n\nui:\n  appName: 'My PDF Tool'\n  homeDescription: 'Welcome!'\n  appNameNavbar: 'PDF Tool'\n\npremium:\n  proFeatures:\n    googleDrive:\n      enabled: false\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"V2 Configuration:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"security:\n  jwt:\n    persistence: true  # Changed\n    enableKeyRotation: true  # NEW\n    enableKeyCleanup: true  # Changed\n    keyRetentionDays: 7\n  validation:  # NEW section\n    trust:\n      serverAsAnchor: true\n      useSystemTrust: true\n\nsystem:\n  serverCertificate:  # NEW section\n    enabled: true\n    organizationName: Stirling-PDF\n\nui:\n  appNameNavbar: 'PDF Tool'\n  logoStyle: classic  # NEW\n  # appName and homeDescription removed - use in-app settings\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"unknown-configuration-key-warnings",children:'"Unknown configuration key" warnings'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptom:"})," Warnings about unrecognized settings on startup."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause:"})," Old V1 settings still in your ",(0,t.jsx)(n.code,{children:"settings.yml"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution:"})," Remove deprecated settings listed in this guide."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"jwt-tokens-invalid-after-upgrade",children:"JWT tokens invalid after upgrade"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptom:"})," Users logged out, need to re-login."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause:"})," JWT key format changed."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution:"})," Expected behavior, users just need to log in again once."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"custom-app-name-not-showing",children:"Custom app name not showing"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptom:"})," App name doesn't appear after setting ",(0,t.jsx)(n.code,{children:"ui.appName"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause:"})," Setting moved to in-app configuration."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Log in as admin"}),"\n",(0,t.jsx)(n.li,{children:"Go to Settings \u2192 UI"}),"\n",(0,t.jsx)(n.li,{children:"Configure there"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/Migration/New-Features",children:"New Features"})})," - What's new in V2"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/Migration/Breaking-Changes",children:"Breaking Changes"})})," - Important changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/Configuration/Extra-Settings",children:"Configuration Options"})})," - All configuration variables"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/Configuration/System%20and%20Security",children:"System and Security"})})," - Advanced config"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Takeaways:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 Most settings remain the same"}),"\n",(0,t.jsx)(n.li,{children:"\ud83d\udd04 JWT settings have new names"}),"\n",(0,t.jsx)(n.li,{children:"\u2795 Many new optional features"}),"\n",(0,t.jsx)(n.li,{children:"\u2796 Google Drive and database notifications removed"}),"\n",(0,t.jsx)(n.li,{children:"\ud83c\udfa8 UI settings moved to in-app configuration"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Action Required:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Update JWT setting names"}),"\n",(0,t.jsx)(n.li,{children:"Remove deprecated sections"}),"\n",(0,t.jsx)(n.li,{children:"Optionally configure new features"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Your existing configuration will work in V2 with minimal changes!"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);